<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>网络基础 | haifun的博客</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="TCP/IP," />
  

  <meta name="description" content="网络层次划分国际标准化组织（ISO）提出的开放系统互连参考模型 (Open System Interconnect 简称OSI）将计算机网络体系结构的通信协议划分为七层，自下而上依次为：  物理层（Physics Layer） 数据链路层（Data Link Layer） 网络层（Network Layer） 传输层（Transport Layer） 会话层（Session Layer） 表示层（">
<meta property="og:type" content="article">
<meta property="og:title" content="网络基础">
<meta property="og:url" content="https://haifuns.com/2021/03/13/tcpip/index.html">
<meta property="og:site_name" content="haifun的博客">
<meta property="og:description" content="网络层次划分国际标准化组织（ISO）提出的开放系统互连参考模型 (Open System Interconnect 简称OSI）将计算机网络体系结构的通信协议划分为七层，自下而上依次为：  物理层（Physics Layer） 数据链路层（Data Link Layer） 网络层（Network Layer） 传输层（Transport Layer） 会话层（Session Layer） 表示层（">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://haif-cloud.oss-cn-beijing.aliyuncs.com/tcpip/tcpip-model.png">
<meta property="og:image" content="https://haif-cloud.oss-cn-beijing.aliyuncs.com/tcpip/tcp-header.png">
<meta property="og:image" content="https://haif-cloud.oss-cn-beijing.aliyuncs.com/tcpip/tcp-conn.png">
<meta property="article:published_time" content="2021-03-13T08:00:00.000Z">
<meta property="article:modified_time" content="2021-12-21T09:29:48.119Z">
<meta property="article:author" content="haifun">
<meta property="article:tag" content="TCP&#x2F;IP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://haif-cloud.oss-cn-beijing.aliyuncs.com/tcpip/tcpip-model.png">

  

  
    <link rel="icon" href="/images/favicon.ico">
  

  <link href="/css/styles.css?v=c114cbeddx" rel="stylesheet">


  
    
<link rel="stylesheet" href="/css/personal-style.css">

  

  

  

  


  
    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

<meta name="generator" content="Hexo 5.4.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="haifun的博客" type="application/atom+xml">
</head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">盒子</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">盒子</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/categories/"
            rel="noopener noreferrer"
            target="_self"
            >
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/tags/"
            rel="noopener noreferrer"
            target="_self"
            >
            标签
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            rel="noopener noreferrer"
            target="_self"
            >
            关于
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/atom.xml"
            rel="noopener noreferrer"
            target="_blank"
            >
            RSS
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/search/"
            rel="noopener noreferrer"
            target="_self"
            >
            搜索
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E6%AC%A1%E5%88%92%E5%88%86"><span class="toc-text">网络层次划分</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#OSI%E4%B8%83%E5%B1%82%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B"><span class="toc-text">OSI七层网络模型</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#IP%EF%BC%9A%E7%BD%91%E9%99%85%E5%8D%8F%E8%AE%AE"><span class="toc-text">IP：网际协议</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80"><span class="toc-text">IP地址</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80%E5%88%86%E7%B1%BB"><span class="toc-text">IP地址分类</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#UDP%EF%BC%9A%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AE"><span class="toc-text">UDP：用户数据报协议</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TCP%EF%BC%9A%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE"><span class="toc-text">TCP：传输控制协议</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP%E9%A6%96%E9%83%A8"><span class="toc-text">TCP首部</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP%E8%BF%9E%E6%8E%A5"><span class="toc-text">TCP连接</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E5%BB%BA%E7%AB%8B%EF%BC%9A%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B"><span class="toc-text">连接建立：三次握手</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%96%AD%E5%BC%80%EF%BC%9A%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B"><span class="toc-text">连接断开：四次挥手</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%81%E4%B8%87%E4%B8%AA%E4%B8%BA%E4%BB%80%E4%B9%88"><span class="toc-text">十万个为什么</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%EF%BC%9F"><span class="toc-text">为什么要三次握手？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B%EF%BC%9F"><span class="toc-text">为什么要四次挥手？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E7%AC%AC%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B%E5%90%8E%E8%A6%81%E7%AD%89%E5%BE%852MSL%E6%89%8D%E5%85%B3%E9%97%AD%EF%BC%9F"><span class="toc-text">为什么第四次挥手后要等待2MSL才关闭？</span></a></li></ol></li></ol></li></ol></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-tcpip" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">网络基础</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2021.03.13</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>haifun</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/categories/TCP-IP/">TCP/IP</a>
  </span>



      

      
      <i class="fa fa-eye"></i> 
        <span id="busuanzi_container_page_pv">
           &nbsp热度 <span id="busuanzi_value_page_pv">
           <i class="fa fa-spinner fa-spin"></i></span>℃
        </span>
      
      
    </div>
  </header>

  <div class="article-content">
    
      <h1 id="网络层次划分"><a href="#网络层次划分" class="headerlink" title="网络层次划分"></a>网络层次划分</h1><p>国际标准化组织（ISO）提出的开放系统互连参考模型 (Open System Interconnect 简称OSI）将计算机网络体系结构的通信协议划分为七层，自下而上依次为：</p>
<ul>
<li>物理层（Physics Layer）</li>
<li>数据链路层（Data Link Layer）</li>
<li>网络层（Network Layer）</li>
<li>传输层（Transport Layer）</li>
<li>会话层（Session Layer）</li>
<li>表示层（Presentation Layer）</li>
<li>应用层（Application Layer）</li>
</ul>
<p>其中第四层完成数据传送服务，上面三层面向用户。</p>
<span id="more"></span>

<p>除了标准的OSI七层模型以外，常见的网络层次划分还有TCP/IP四层协议以及TCP/IP五层协议，它们之间的对应关系如下图所示：</p>
<p><img data-src="https://haif-cloud.oss-cn-beijing.aliyuncs.com/tcpip/tcpip-model.png" alt="image"></p>
<h1 id="OSI七层网络模型"><a href="#OSI七层网络模型" class="headerlink" title="OSI七层网络模型"></a>OSI七层网络模型</h1><table>
<thead>
<tr>
<th>层数</th>
<th>分层名称</th>
<th>功能</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>7</td>
<td>应用层</td>
<td>针对特定应用的协议</td>
<td>HTTP、FTP、DNS、Telnet、SMTP、POP3</td>
</tr>
<tr>
<td>6</td>
<td>表示层</td>
<td>设备固有数据格式和网络标准数据格式的转换</td>
<td>ASCII、GIF、JPEG</td>
</tr>
<tr>
<td>5</td>
<td>会话层</td>
<td>通信管理，负责建立和断开通信连接，管理传输层以下的分层</td>
<td>RPC、SQL、NFS</td>
</tr>
<tr>
<td>4</td>
<td>传输层</td>
<td>管理两个节点之间的数据传输，负责可靠传输</td>
<td>TCP、UDP，设备：网关</td>
</tr>
<tr>
<td>3</td>
<td>网络层</td>
<td>地址管理与路由选择</td>
<td>IP、ICMP、ARP、RARP，设备：路由器</td>
</tr>
<tr>
<td>2</td>
<td>数据链路层</td>
<td>互连设备之间传送和识别数据帧</td>
<td>IEEE 802.3，设备：网桥、交换机</td>
</tr>
<tr>
<td>1</td>
<td>物理层</td>
<td>以0、1代表电压高低、灯光的闪灭，界定连接器和网线的规格</td>
<td>RS232、v.35，设备：集线器、中继器</td>
</tr>
</tbody></table>
<ul>
<li>物理层</li>
</ul>
<p>负责0、1比特流（0、1序列）与电压的高低、光的闪灭之间的互换。</p>
<ul>
<li>数据链路层</li>
</ul>
<p>负责物理层面上的互连的、节点之间的通信传输。例如与1个以太网相连的2个节点之间的通信。将0、1序列划分为具有意义的数据帧传送给对端（数据帧的生成与接收）。</p>
<ul>
<li>网络层</li>
</ul>
<p>将数据层传输到目标地址，目标地址可以是多个网络通过路由器连接而成的某一地址。因此这一层主要负责寻址和路由选择。</p>
<ul>
<li>传输层</li>
</ul>
<p>起着可靠传输的作用。只在通信双方节点上进行处理，而无需在路由器上处理。</p>
<ul>
<li>会话层</li>
</ul>
<p>负责建立和断开通信连接（数据流动的逻辑通路），以及数据的分割等数据传输相关的管理。</p>
<ul>
<li>表示层</li>
</ul>
<p>将应用处理的信息转换为适合网络传输的格式，或将来自下一层的数据转换为上层能够处理的格式。因此表示层主要负责数据格式的转换。</p>
<ul>
<li>应用层</li>
</ul>
<p>为应用程序提供服务并规定应用程序中通信相关的细节。包括文件传输、电子邮件、远程登录（虚拟中端）等协议。</p>
<h1 id="IP：网际协议"><a href="#IP：网际协议" class="headerlink" title="IP：网际协议"></a>IP：网际协议</h1><p>IP协议是TCP/IP协议的核心，所有的TCP，UDP，IMCP以及IGMP数据都以IP数据报格式传输。要注意的是IP不是可靠的协议，也就是说，IP协议没有提供一种数据未传达以后的处理机制，这被认为是上层协议：TCP或UDP要做的事情。</p>
<h2 id="IP地址"><a href="#IP地址" class="headerlink" title="IP地址"></a>IP地址</h2><p>IP地址（IPv4）由32位正整数来表示，每8位一组，分成4组，每组以“.”隔开。理论上最多可以允许2^32台机器连接到网络。</p>
<p>IP地址由网络标识（网络地址）和主机标识（主机地址）两部分组成。网络标识在数据链路的每个段配置不同的值。网络标识必须保证相互连接的每个段的地址不重复。而相同段内相连的主机必须有相同的网络地址。IP地址的主机标识则不允许在同一个网段内出现。</p>
<p>对于从第几位到第几位是主机标识，哪些位是主机标识，有约定俗成的两种区分类型：最初以分类进行区分；现在基本以子网掩码（网络前缀）区分。</p>
<h2 id="IP地址分类"><a href="#IP地址分类" class="headerlink" title="IP地址分类"></a>IP地址分类</h2><p>IP地址分为四个级别，分别是A类、B类、C类、D类。根据IP地址中从第1位到第4位的比特列对其网络标识和主机标识进行区分。</p>
<ul>
<li>A类地址：以0开头，前8位是网络标识，地址范围是0.0.0.0 ~ 127.255.255.255；</li>
<li>B类地址：以10开头，前16位是网络标识，地址范围是128.0.0.0 ~ 191.255.255.255；</li>
<li>C类地址：以110开头，前24位是网络标识，地址范围是192.0.0.0 ~ 223.255.255.255；</li>
<li>D类地址：以1110开头，前32位是网络标识，地址范围是224.0.0.0 ~ 239.255.255.255，D类地址常被用于多播；</li>
<li>以1111开头的地址为保留地址，地址范围是240.0.0.0 ~ 255.255.255.255；</li>
</ul>
<blockquote>
<p>注：只有A，B，C有网络号和主机号之分，D类地址没有划分网络号和主机号。</p>
</blockquote>
<h1 id="UDP：用户数据报协议"><a href="#UDP：用户数据报协议" class="headerlink" title="UDP：用户数据报协议"></a>UDP：用户数据报协议</h1><p>用户数据报协议（UDP，User Datagram Protocol）是一种面向无连接的传输层协议，提供面向事务的简单不可靠传送服务。常被用于一下场景：</p>
<ul>
<li>包总量较少的通信（DNS、SNMP）等；</li>
<li>视频、音频等多媒体通信（即时通信）；</li>
<li>限定于LAN等特定网络中的应用通信；</li>
<li>广播通信（广播、多播）；</li>
</ul>
<h1 id="TCP：传输控制协议"><a href="#TCP：传输控制协议" class="headerlink" title="TCP：传输控制协议"></a>TCP：传输控制协议</h1><p>传输控制协议（TCP，Transmission Control Protocol）是一种面向连接的、可靠的、基于字节流的传输层通信协议。</p>
<h2 id="TCP首部"><a href="#TCP首部" class="headerlink" title="TCP首部"></a>TCP首部</h2><p>TCP数据被封装在一个IP数据报中，如下图所示：</p>
<p><img data-src="https://haif-cloud.oss-cn-beijing.aliyuncs.com/tcpip/tcp-header.png" alt="image"></p>
<p>图中同时展示了TCP首部的数据格式，如果不计任选字段，通常是20个字节。包含如下部分：</p>
<ul>
<li>源端和目的端的端口号：用于寻找发端和收端应用进程。这两个值加上IP首部中源端IP地址和目的端IP地址唯一确定一个TCP连接。</li>
<li>序号：用来标识从TCP发端向TCP收端发送的数据字节流，它表示在这个报文段中的第一个数据字节。序号到达2^32-1后从0重新开始。</li>
<li>确认序号：包含发送确认的一端所期望收到的下一个序号。只有ACK标志为1时，确认序号才有效。</li>
<li>首部长度：首部中32bit字的数目。TCP首部最多60字节，如果没有任选字段，正常长度是20字节。</li>
<li>标志位：<ul>
<li>URG：紧急指针有效；</li>
<li>ACK：确认序号有效；</li>
<li>PSH：接收方应该尽快将这个报文段交给应用层；</li>
<li>SYN：同步序号用来发起一个连接；</li>
<li>FIN：发端完成发送任务；</li>
</ul>
</li>
<li>窗口大小：字节数，起始于确认序号字段指明的值，这个值是接收端期望收到的字节。窗口大小最大为65535字节。TCP流量控制由连接的每一端通过声明的窗口大小来提供。</li>
<li>检验和：覆盖TCP首部和TCP数据，由发端计算和存储、收端验证。</li>
<li>紧急指针：正的偏移量，和序号字段中的值相加表示紧急数据最后一个字节的序号。只有URG标志设置为1时紧急指针才有效。</li>
<li>可选字段：最常见的可选字段是最长报文大小，又称为MSS。</li>
</ul>
<h2 id="TCP连接"><a href="#TCP连接" class="headerlink" title="TCP连接"></a>TCP连接</h2><p>TCP连接建立与终止流程如下图所示：</p>
<p><img data-src="https://haif-cloud.oss-cn-beijing.aliyuncs.com/tcpip/tcp-conn.png" alt="image"></p>
<h3 id="连接建立：三次握手"><a href="#连接建立：三次握手" class="headerlink" title="连接建立：三次握手"></a>连接建立：三次握手</h3><ol>
<li>请求端发送一个SYN段指明客户打算连接的服务器端口，以及初始序号。</li>
<li>服务端发回包含服务器的初始序号的SYN报文段作为应答，同时设置ACK标志，将确认序号设置为客户的序号加1以对客户的SYN报文段进行确认。</li>
<li>客户必须将确认序号设置为服务器的序号加1以对服务器的SYN报文段进行确认。</li>
</ol>
<h3 id="连接断开：四次挥手"><a href="#连接断开：四次挥手" class="headerlink" title="连接断开：四次挥手"></a>连接断开：四次挥手</h3><ol>
<li>请求端发送FIN报文到服务端，进入FIN-WAIT-1状态。</li>
<li>服务端发回一个ACK报文，确认序号为收到的序号加1，然后进入CLOSE-WAIT状态。（服务端可能还有数据没有发完，客户端收到后进入FIN-WAIT-2状态继续等待服务端FIN消息）</li>
<li>服务端处理完数据后向客户端发送FIN报文，序号，ACK标志以及确认序号，然后进入LAST-ACK状态。</li>
<li>客户端收到FIN回复后，发送ACK报文到服务端，然后进入TIME-WAIT状态，等待2MSL后如果没有收到服务端重传请求则认为服务端已确认，进入CLOSE状态。</li>
</ol>
<h3 id="十万个为什么"><a href="#十万个为什么" class="headerlink" title="十万个为什么"></a>十万个为什么</h3><h4 id="为什么要三次握手？"><a href="#为什么要三次握手？" class="headerlink" title="为什么要三次握手？"></a>为什么要三次握手？</h4><p>三次握手可以有效防止已失效的连接请求报文段突然又传送到了服务端而产生错误。</p>
<p>在两次“握手”的情形下，假设客户端在跟服务端建立连接过程中数据报丢失了（有可能数据传输过程因为网络并发量很大在某个结点被阻塞了），那么客户端会再次发起连接请求。这种情形下服务端将有可能先后收到两次请求并建立连接，然后持续等待两个客户端请求向它发送数据。此时服务端有两个响应而客户端实际上只有一次请求，因而造成资源浪费。</p>
<h4 id="为什么要四次挥手？"><a href="#为什么要四次挥手？" class="headerlink" title="为什么要四次挥手？"></a>为什么要四次挥手？</h4><p>TCP是全双工模式，因此在四次挥手中，前两次挥手用于断开一个方向的连接，后两次挥手用于断开另一方向的连接。</p>
<h4 id="为什么第四次挥手后要等待2MSL才关闭？"><a href="#为什么第四次挥手后要等待2MSL才关闭？" class="headerlink" title="为什么第四次挥手后要等待2MSL才关闭？"></a>为什么第四次挥手后要等待2MSL才关闭？</h4><p>MSL：报文段最大生存时间，它是任何报文段被丢弃前在网络内的最长时间。</p>
<p>等待2MSL主要有两个原因：</p>
<ol>
<li>为了保证客户端发送的最后一个ACK报文段能够到达服务器。因为这个ACK有可能丢失，从而导致处在LAST-ACK状态的服务器收不到对FIN-ACK的确认报文。服务器会超时重传这个FIN-ACK，接着客户端再重传一次确认，重新启动时间等待计时器。最后客户端和服务器都能正常的关闭。假设客户端不等待2MSL，而是在发送完ACK之后直接释放关闭，一但这个ACK丢失的话，服务器就无法正常的进入关闭连接状态。</li>
<li>可以防止已失效的报文段。客户端在发送最后一个ACK之后，再经过经过2MSL，就可以使本连接持续时间内所产生的所有报文段都从网络中消失。从保证在关闭连接后不会有还在网络中滞留的报文段去骚扰服务器。</li>
</ol>
<blockquote>
<p>服务器在发送FIN-ACK后，会立即启动超时重传计时器。客户端在发送最后一个ACK之后会立即启动时间等待计时器。</p>
</blockquote>
<p>参考文章：</p>
<ul>
<li>《TCP/IP详解 卷一：协议》</li>
<li>《图解TCPIP》</li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/maybe2030/p/4781555.html">[Network] 计算机网络基础知识总结</a></li>
</ul>

    
  </div>

</article>


   

   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/2021/02/25/devops-02/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2021/03/21/zookeeper/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/categories/"
              rel="noopener noreferrer"
              target="_self"
              >
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/tags/"
              rel="noopener noreferrer"
              target="_self"
              >
              标签
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              rel="noopener noreferrer"
              target="_self"
              >
              关于
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/atom.xml"
              rel="noopener noreferrer"
              target="_blank"
              >
              RSS
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/search/"
              rel="noopener noreferrer"
              target="_self"
              >
              搜索
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    

    
    

    

    
    

    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script>
    <div id="comment" class="vcomment" ></div>
    <script>
        var notify = 'false' == true ? true : false;
        var verify = 'false' == true ? true : false;
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
            return GUEST_INFO.indexOf(item) > -1
        });
        guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
        window.valine = new Valine({
            el: '.vcomment',
            notify: notify,
            verify: verify,
            appId: "masttnqEt9G69mj43i9oaA1C-gzGzoHsz",
            appKey: "hgIx9VKn0GLDhRcLxQuNMl0E",
            avatar:'mm',
            placeholder: "Just go go",
            guest_info:guest_info,
            pageSize:'10'
        });
    </script>
  
    

  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
